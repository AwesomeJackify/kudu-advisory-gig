---
import { Icon } from "astro-icon/components";

const { title, description, isMostPopular, features, url, index, length } =
  Astro.props;
---

<div
  class={`border-stone-400 border-t border-b rounded-t-2xl py-8 px-4 gap-4 flex flex-col
  ${index === 0 ? "border-l" : ""} 
  ${index === length - 1 ? "border-r" : ""}
  ${index > 0 && index < length - 1 && "border-x"}
  ${isMostPopular ? "mt-0" : "mt-16"}
`}
>
  <h1 class="text-primary text-2xl flex flex-col gap-2">
    {
      isMostPopular && (
        <div class="badge badge-primary self-end">Most popular</div>
      )
    }
    {title}
  </h1>
  <div class="grid grid-rows-4 h-full">
    <p class="font-light row-span-2">{description}</p>
    <div class="flex flex-col gap-2">
      <h2 class="text-xl">Features:</h2>
      <ul class="gap-1 flex flex-col">
        {
          (features || []).map((feature: string) => (
            <li class="font-light flex items-center gap-1 text-sm">
              <Icon name="mdi:check" class="text-secondary" /> {feature}
            </li>
          ))
        }
      </ul>
    </div>
    <a href={url} class="btn btn-accent self-end">Learn more</a>
  </div>
</div>
